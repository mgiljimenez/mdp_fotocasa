knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(knitr)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
if (!requireNamespace("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("ropls")
BiocManager::install("ropls", force = TRUE)
library(viridis)
library(patchwork)
library(dplyr)
library(ggplot2)
library(ggrepel)
library(readxl)
fotocasa = read_excel("fotocasaImp.xlsx")
fotocasa <- as.data.frame(fotocasa)
rownames(fotocasa) <- fotocasa[[1]]
variables <- fotocasa[, c(9,10,11,13,14,15,16,17,18,19,21,22,23,24,25,26,27,28,29,30,31, 32, 33)]
# Definir variables predictoras y variable objetivo
X <- variables[, !(names(variables) %in% c("priceAmount", "priceAmountDrop"))]  # Excluir "Precio"
Y <- variables$priceAmount  # Variable objetivo
mypls = opls(x = X, y = Y, predI = NA, crossvalI = nrow(X), scaleC = "standard",
fig.pdfC = "none")
library(ropls)
BiocManager::install("ropls", force = TRUE)
library(ropls)
mypls = opls(x = X, y = Y, predI = NA, crossvalI = nrow(X), scaleC = "standard",
fig.pdfC = "none")
maxNC = min(dim(X)); maxNC
myplsC = opls(x = X, y = Y, predI = maxNC, crossvalI = nrow(X),
scaleC = "standard", fig.pdfC = "none")
mypls = opls(x = X, y = Y, predI = NA, crossvalI = 10, scaleC = "standard",
fig.pdfC = "none")
maxNC = min(dim(X)); maxNC
myplsC = opls(x = X, y = Y, predI = maxNC, crossvalI = 10, # ValidaciÃ³n cruzada con 10 folds (k-fold)
scaleC = "standard", fig.pdfC = "none")
